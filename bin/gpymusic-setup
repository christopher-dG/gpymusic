#!/usr/bin/env python3
import os
import json
import pkgutil
from gpymusic import common

# import default config
config_file = pkgutil.get_data('gpymusic', 'config/config.example.json')
config_json = str(config_file, 'utf-8')

# Create directory if it doesn't exist.
if not os.path.exists(common.CONFIG_DIR):
    print("Config directory not found. Creating one...")
    os.makedirs(common.CONFIG_DIR)

if not os.path.exists(common.DATA_DIR):
    print("Data directory not found. Creating one...")
    os.makedirs("%s/%s" % (common.DATA_DIR, 'songs'))
    os.makedirs("%s/%s" % (common.DATA_DIR, 'playlists'))

if not os.path.isfile("%s/config.json" % common.CONFIG_DIR):
    print("Writing config files...")
    file = open("%s/config.json" % common.CONFIG_DIR, "w")
    file.write(config_json)

print("Done.")
